<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>3WkLook</title>
<link rel="stylesheet" type="text/css" href="sched_phone.css" />


<script>
function newactentry(val){
divid=val;
id=divid + "div";
//alert("divid " + this.id);
var x=document.getElementsByTagName("DIV").length;
var y=0;
while (y<x)	{
document.getElementsByTagName("DIV")[y].style.display="none";
y++;
}
document.getElementById(id).style.display="block";
}
function selectactentry(val){
divid=val;
id="newdurdiv";
//alert("divid " + this.id);
var x=document.getElementsByTagName("DIV").length;
var y=0;
while (y<x)	{
document.getElementsByTagName("DIV")[y].style.display="none";
y++;
}
document.getElementById(id).style.display="block";
}
function selectdurentry(val){
divid=val;
id="newprojectdiv";
//alert("divid " + this.id);
var x=document.getElementsByTagName("DIV").length;
var y=0;
while (y<x)	{
document.getElementsByTagName("DIV")[y].style.display="none";
y++;
}
document.getElementById(id).style.display="block";
}
function selectproject(val){
divid=val;
id="newstartdiv";
//alert("divid " + this.id);
var x=document.getElementsByTagName("DIV").length;
var y=0;
while (y<x)	{
document.getElementsByTagName("DIV")[y].style.display="none";
y++;
}
document.getElementById(id).style.display="block";
}
function selectstartentry(val){
divid=val;
id="newreporterdiv";
//alert("divid " + this.id);
var x=document.getElementsByTagName("DIV").length;
var y=0;
while (y<x)	{
document.getElementsByTagName("DIV")[y].style.display="none";
y++;
}
document.getElementById(id).style.display="block";
}
function selectreporterentry(val){
divid=val;
id="newcrewdiv";
//alert("divid " + this.id);
var x=document.getElementsByTagName("DIV").length;
var y=0;
while (y<x)	{
document.getElementsByTagName("DIV")[y].style.display="none";
y++;
}
document.getElementById(id).style.display="block";
}
function schedinfo()	{
document.getElementById("newstartbutton").style.display="none";
var ci= document.getElementById("crew").value;
var ri =document.getElementById("reporter").value;
var si = document.getElementById("mondaystart").value;
var pi = document.getElementById("project").value;
document.getElementById("sched_info").innerHTML= "Schedule for:  " + ci + "'s Crew starting from " + si + " by: " + ri;
var x=document.getElementsByTagName("DIV").length;
var y=0;
while (y<x)	{
	if (document.getElementsByTagName("DIV")[y].title=="visible")
		{
document.getElementsByTagName("DIV")[y].style.display="block";
		}
	else	{
	document.getElementsByTagName("DIV")[y].style.display="none";
	}
y++;
}
	document.getElementById("schedule").style.display="table";
}
function schedinfo_ud()	{
var ci= document.getElementById("crew").value;
var ri =document.getElementById("reporter").value;
var si = document.getElementById("mondaystart").value;
document.getElementById("crew_update1").value=ci;
document.getElementById("mondaystart_update1").value=si;
document.getElementById("reporter_update1").value=ri;
openschedlist()	
document.getElementById("sched_update1").value="yes";
}
function homebutton(){
var x=document.getElementsByTagName("DIV").length;
var y=0;
while (y<x)	{
	if (document.getElementsByTagName("DIV")[y].title=="visible")
		{
document.getElementsByTagName("DIV")[y].style.display="block";
		}
	else	{
	document.getElementsByTagName("DIV")[y].style.display="none";
	}
y++;
}
	document.getElementById("schedule").style.display="table";
}
function newact() { 
document.getElementById("check").value="no";
var count = document.getElementById("counter").value;
count=(count*1+1);
document.getElementById("counter").value=count;
document.getElementById("savedactid").value=(count*10);
//barval= "new" + count;
var oi=document.getElementById("openeditem").value;
var act= document.getElementById("newactivity").value;
var dur= document.getElementById("newduration").value;
var pred= document.getElementById("savedpred").value;
var preddur= document.getElementById("savedpreddur").value;
var actid= document.getElementById("savedactid").value;
var actlineno= (pred/10);
var actidnew = document.createElement("P");
var prednew = document.createElement("BUTTON");
var actnew = document.createElement("INPUT");
var actbuttonnew = document.createElement("BUTTON");
var durnew = document.createElement("INPUT");
var durbuttonnew = document.createElement("BUTTON");
var startnew = document.createElement("INPUT");
var barnew = document.createElement("P");
var table2 = document.getElementById("sched_table");
var row2 = table2.insertRow(-1);
var cell21 = row2.insertCell(0);
var table = document.getElementById("activity_table");
var row = table.insertRow(-1);
var cell1 = row.insertCell(0);
var cell2 = row.insertCell(1);
var cell3 = row.insertCell(2);
var cell4 = row.insertCell(3);
var cell5 = row.insertCell(4);
durbar= (6.6*dur)+"%";
barnew.id = "bar" + count;
barnew.innerHTML= act;
barnew.className = "progbar";
barnew.style.width= durbar;
cell21.appendChild(barnew);
cell21.colSpan=15;
cell21.className = "bartd";
actidnew.id = "actid" + count;
prednew.id = "pred" + count;
actnew.id = "act" + count;
durnew.id = "dur" + count;
startnew.id = "start" + count;
startnew.name = count ;
//startnew.value= preddur;
startnew.type="hidden";
durnew.type = "number";
actnew.name = count;
durnew.name = count;
if (oi=="yes")	{
prednew.name="act" + actlineno;
}
actidnew.innerHTML= actid;
actnew.value= act;
actnew.type= "hidden";
//actnew.onchange=actchange;
actbuttonnew.innerHTML= act;
actbuttonnew.id= "abutton" + count;
actbuttonnew.name=	count;
actbuttonnew.onclick=change_activity;
durbuttonnew.innerHTML= dur;
durbuttonnew.id= "dbutton" + count;
durbuttonnew.name=	count;
durbuttonnew.onclick=durchange2;
durnew.value= dur;
durnew.type= "hidden";
//durnew.onchange=durchange;
prednew.innerHTML=pred;
prednew.onclick=predfunction;
cell1.appendChild(actidnew);
cell2.appendChild(prednew);
cell3.appendChild(actnew);
cell3.appendChild(actbuttonnew);
cell4.appendChild(durnew);
cell4.appendChild(durbuttonnew);
cell5.appendChild(startnew);
var actnewbtn = document.createElement("BUTTON");
actnewbtn.innerHTML=act;
actnewbtn.className="pred_button";
actnewbtn.onclick=predpickedfunction;
actnewbtn.id= "actbtn" + count;
actnewbtn.name= count;
if(oi=="yes") 	{ 
		actnewbtn.title= "yes";
	}
else	{
	actnewbtn.title= "no";
	}
document.getElementById("predlist").appendChild(actnewbtn);
var datesave = document.createElement("INPUT");
var reportersave = document.createElement("INPUT");
var crewsave = document.createElement("INPUT");
var actidsave = document.createElement("INPUT");
var predsave = document.createElement("INPUT");
var actsave = document.createElement("INPUT");
var dursave = document.createElement("INPUT");
var startsave = document.createElement("INPUT");
var filesave = document.createElement("INPUT");
var projectsave = document.createElement("INPUT");
projectsave.type="text";
var tablesave = document.getElementById("saveform");
var row = tablesave.insertRow(-1);
var cellS1 = row.insertCell(0);
var cellS2 = row.insertCell(1);
var cellS3 = row.insertCell(2);
var cellS4 = row.insertCell(3);
var cellS5 = row.insertCell(4);
var cellS6 = row.insertCell(5);
var cellS7 = row.insertCell(6);
var cellS8 = row.insertCell(7);
var cellS9 = row.insertCell(8);
var cellS10 = row.insertCell(9);
datesave.id = "dateS" + count;
reportersave.id = "reporterS" + count;
crewsave.id = "crewS" + count;
actidsave.id = "actidS" + count;
predsave.id = "predS" + count;
actsave.id = "actS" + count;
dursave.id = "durS" + count;
startsave.id = "startS" + count;
filesave.id = "fileS" + count;
projectsave.id = "projectS" + count;
datesave.name = "dateS" + count;
reportersave.name = "reporterS" + count;
crewsave.name = "crewS" + count;
actidsave.name = "actidS" + count;
predsave.name = "predS" + count;
actsave.name = "actS" + count;
dursave.name = "durS" + count;
startsave.name = "startS" + count;
filesave.name = "fileS" + count;
projectsave.name = "projectS" + count;
datesave.value = document.getElementById("mondaystart").value;
reportersave.value = document.getElementById("reporter").value;
crewsave.value = document.getElementById("crew").value;
actidsave.value = (count*10);
actsave.value = act;
dursave.value = dur;
predsave.value = pred;
//startsave.value = preddur;
filesave.value = document.getElementById("mondaystart").value + "_" + document.getElementById("crew").value;
projectsave.value = document.getElementById("project").value;
cellS1.appendChild(datesave);
cellS2.appendChild(reportersave);
cellS3.appendChild(crewsave);
cellS4.appendChild(actidsave);
cellS5.appendChild(predsave);
cellS6.appendChild(actsave);
cellS7.appendChild(dursave);
cellS8.appendChild(startsave);
cellS9.appendChild(filesave);
cellS10.appendChild(projectsave);
if (oi="yes") 	{ document.getElementById("newstartbutton").style.display="none";  }
homebutton()
}
function predfunction() 	{
id = this.id;
document.getElementById("act_pred").value=id;
document.getElementById("predactivity").innerHTML="SELECT THE PREDECESSOR FOR: " + id ;
document.getElementById("schedule").style.display="none";
document.getElementById("act_div").style.display = "none";
document.getElementById("act_table_div").style.display = "none";
document.getElementById("pred_div").style.display = "list-item";
}
function predpickedfunction(val) 	{
w=val;
id = document.getElementById("act_pred").value;
id_pred=this.id;
name_pred="act" + this.name;
pred_is = document.getElementById(id_pred).innerHTML;
if(w=="cat") { actid='0' } else { actid = (this.name*10); } //for the saved pred id
count = document.getElementById("counter").value;
x=0;
while (x<(count*1+1))	{
	if (id=="pred"+x){
	pnumb=x;
	break;
	}
	x++;
	}
savepred = "predS" + pnumb;
document.getElementById(savepred).value=actid;
document.getElementById(id).innerHTML=actid ;
document.getElementById(id).name=name_pred;
document.getElementById(id).title="yes";
document.getElementById(id_pred).title="yes";
//alert("testing" + name + " Pred is " + name_pred);
document.getElementById("schedule").style.display="block";
document.getElementById("act_div").style.display = "block";
document.getElementById("act_table_div").style.display = "block";
document.getElementById("pred_div").style.display = "none";
testbutton();
}
function quicksched()	{
var zz = document.getElementById("activity_table").rows;
var z = document.getElementById("activity_table");
var i; 
for (i = 3; i < zz.length; i++) {
	pred = z.rows[(i-1)].cells[2].getElementsByTagName('input')[0].value;
	actid = z.rows[(i-1)].cells[0].getElementsByTagName('p')[0].innerHTML; //for saved pred id
	id = z.rows[(i-1)].cells[2].getElementsByTagName('input')[0].id;
	namex = z.rows[(i-1)].cells[2].getElementsByTagName('input')[0].name;
	name_pred = "act" + namex;
	act_btn = "actbtn"  + namex;
	document.getElementById(act_btn).title="yes";
	z.rows[i].cells[1].getElementsByTagName('button')[0].name=name_pred;
	z.rows[i].cells[1].getElementsByTagName('button')[0].innerHTML=actid;
	z.rows[i].cells[1].getElementsByTagName('button')[0].title="yes";
	x=(i-1);
	//alert("testing " + actid);
	document.getElementById("predS" + x).value=actid;
	
	pred_status = z.rows[(i)].cells[1].getElementsByTagName('button')[0].innerHTML;
	name_val = z.rows[(i)].cells[1].getElementsByTagName('button')[0].name;
	id_val = z.rows[(i)].cells[1].getElementsByTagName('button')[0].id;
	act_name= document.getElementById(name_val).name;
	dur1_id = "dur" + act_name;
	dur1 = document.getElementById(dur1_id).value;
	z.rows[(i)].cells[4].getElementsByTagName('input')[0].value = dur1;
	
		
	} 
	z.rows[2].cells[4].getElementsByTagName('input')[0].value = '';
//	alert("testing " + pred);
	document.getElementById("schedule").style.display="table";
testbutton()
	}
	
function testbutton()								{ //function
var z = document.getElementById("activity_table").rows;
var len=z.length;
var i=1; 
while( i < (len-1))				{ 					// while i
var aid=document.getElementById("actid"+i);
var p=document.getElementById("pred"+i);
var s=document.getElementById("start"+i); 
if (p.innerHTML!="0") 			{  // if the first activity does not have a pred 
var p3=p.innerHTML;
var dur=document.getElementById("dur" + p3/10).value; 
var px=1;	
var dur1=0;		
xc=0;			
while (px<(len-1)) 			{				  // goes thru iterations of preds		
		var dd=document.getElementById("actid"+px).innerHTML;	
		if(p3!="0" && p3==dd)		{  //  filter out no preds from iterations
		var pz = (p3/10);
		var xtest=document.getElementById("dur"+ pz).value;
		var dur1=(document.getElementById("dur"+ pz).value*1 + dur1*1) ; 
		var newp=document.getElementById("pred"+pz);
		p3=newp.innerHTML; 
		if (p3!="0") { var px=0; }
										}  //  end of filtering no preds from iterations
		px++; 
		xc++;
		if(xc>(len*len))	{ alert("LOOP DETECTED.  BAD PREDECESSOR RELATIONSHIP");  break;	}
								}	//end of itterations of preds and gets total dur
		dur = dur1;	//alert("dur 1 is " + dur1 + " for " + aid.innerHTML);
		document.getElementById("start" + i).value=dur;
		document.getElementById("startS" + i).value=dur;
		var bar = "bar" + i;
		var start= (dur*6.67)+"%";
		document.getElementById(bar).style.marginLeft= start;
								}  // end of if first activity is not without pred
							i++	;
							xc=0;	}		// end of while i
	//alert("test here");
						
									}  // end of function
 function screeninfo()	{
 alert("Screen Width: " + screen.width 	+ "\nScreen Height: " + screen.height);
 }
 function save()	{
 document.getElementById("check").value="Yes";
 
document.getElementById("schedform").submit();
 }
 function opensched()	{
 var c=document.getElementById("opencount").value;
 var x;
 for(x=1; x<(c*1+1); x++)	{
 
 c1=document.getElementById("actidopen" + x).innerHTML;
 c2=document.getElementById("predopen" + x).innerHTML;
 c3=document.getElementById("actopen" + x).innerHTML;
 c4=document.getElementById("duropen" + x).innerHTML;
 c5=document.getElementById("predduropen" + x).innerHTML; 
 c6=document.getElementById("startopen" + x).innerHTML;
 c7=document.getElementById("reporteropen" + x).innerHTML;
 c8=document.getElementById("crewopen" + x).innerHTML;
 c9=document.getElementById("projectopen" + x).innerHTML;
 sud=document.getElementById("sched_update2").value;
 if(sud=="yes")	{
 	c6=document.getElementById("mondaystart_update2").value;
	c7=document.getElementById("reporter_update2").value;
	c8=document.getElementById("crew_update2").value;
	}
  if(c2!="")	{
  document.getElementById("openeditem").value="yes";
	}
	document.getElementById("savedpred").value=c2;
	document.getElementById("newactivity").value=c3;
	document.getElementById("newduration").value=c4;
	document.getElementById("savedpreddur").value=c5;
	document.getElementById("mondaystart").value=c6;
	document.getElementById("reporter").value=c7;
	document.getElementById("crew").value=c8;
	document.getElementById("project").value=c9;
	document.getElementById("fieldtitle").innerHTML=c8 + " Plan for work starting on " + c6;
	//alert("this is it " + c3);
	newact()
	}
document.getElementById("openeditem").value="no";
//quicksched()
testbutton()
var x=document.getElementsByTagName("DIV").length;
var y=0;
while (y<x)	{
	if (document.getElementsByTagName("DIV")[y].title=="visible") // "visible" or "field"  switch
		{
document.getElementsByTagName("DIV")[y].style.display="block";
		}
	else	{
	document.getElementsByTagName("DIV")[y].style.display="none";
	}
y++;
}
	document.getElementById("schedule").style.display="table";
//document.getElementById("opendiv2").style.display="block";
 }
 function openschedlist(val){
//alert("divid " + this.id);
var x=document.getElementsByTagName("DIV").length;
var y=0;
while (y<x)	{
document.getElementsByTagName("DIV")[y].style.display="none";
y++;
}
document.getElementById("opendiv").style.display="block";
}
function checkopen()	{
ox=document.getElementById("opencount").value;
if (ox!='')	{
var x=document.getElementsByTagName("DIV").length;
var y=0;
while (y<x)	{
document.getElementsByTagName("DIV")[y].style.display="none";
y++;
}
document.getElementById("opendiv").style.display="block";
document.getElementById("opendiv2").style.display="block";
}
else {
var x=document.getElementsByTagName("DIV").length;
var y=0;
while (y<x)	{
	if (document.getElementsByTagName("DIV")[y].title=="visible")  // "field" or "visible"  switch
		{
document.getElementsByTagName("DIV")[y].style.display="block";
		}
	else	{
	document.getElementsByTagName("DIV")[y].style.display="none";
	}
y++;
}
	document.getElementById("schedule").style.display="table";
}
}
 function change_activity()	{
 	document.getElementById("schedule").style.display="none";
	document.getElementById("act_div").style.display = "none";
	document.getElementById("act_table_div").style.display = "none";
	document.getElementById("buttons").style.display = "none";
	document.getElementById("change_form").style.display = "block";
	document.getElementById("footer").style.display = "none";
	x=this.id;
	y=this.innerHTML;
	z=this.name;
	//alert("testing " + y);
	document.getElementById("item_to_change").value=x;
	document.getElementById("activity_to_change").value=z;
	document.getElementById("change_old").innerHTML="Change from: " + y;
	document.getElementById("change_item").value=y;
	
 }
  function durchange2()	{
 	document.getElementById("schedule").style.display="none";
	document.getElementById("act_div").style.display = "none";
	document.getElementById("act_table_div").style.display = "none";
	document.getElementById("buttons").style.display = "none";
	document.getElementById("change_form2").style.display = "block";
	document.getElementById("footer").style.display = "none";
	x=this.id;
	y=this.innerHTML;
	z=this.name;
	//alert("testing " + y);
	document.getElementById("item_to_change2").value=x;
	document.getElementById("activity_to_change2").value=z;
	document.getElementById("change_old2").innerHTML="Change from: " + y;
	document.getElementById("change_item2").value=y;
 }
  function make_change()	{
 	document.getElementById("schedule").style.display="block";
	document.getElementById("act_div").style.display = "block";
	document.getElementById("act_table_div").style.display = "block";
	document.getElementById("buttons").style.display = "block";
	document.getElementById("change_form").style.display = "none";
	x=document.getElementById("item_to_change").value;
	y=document.getElementById("change_item").value;	
	z="act" + document.getElementById("activity_to_change").value;
	//alert("testing " + y);
	document.getElementById(x).innerHTML=y;
	document.getElementById("change_item").value="";
	document.getElementById(z).value=y;
	projectchg = document.getElementById("project_chg").value;
 	act_btn = "actbtn" + document.getElementById("activity_to_change").value;
 	bar = "bar" + document.getElementById("activity_to_change").value;
 	namepred= "act" + document.getElementById("activity_to_change").value;
 	actsaveid= "actS" + document.getElementById("activity_to_change").value;
	projsaveid= "projectS" + document.getElementById("activity_to_change").value;
	if (projectchg!="ALL JOBS")	{	document.getElementById(projsaveid).value=projectchg;	}
 	xx = document.getElementById(act_btn).title;
 	yy = document.getElementById(namepred).title;
 	document.getElementById(act_btn).innerHTML=y;
 	document.getElementById(bar).innerHTML=y;
 	document.getElementById(actsaveid).value=y;
 // alert("testing " + x + " and y is " + namepred);
count=document.getElementById("counter").value;
 if (xx=="yes") 	{
var zz = document.getElementsByName(namepred);
var i;
for (i = 0; i < zz.length; i++) {
 	zz[i].innerHTML = y;
 	b=zz[i].id;
 	q=0;
 	while (q<(count*1+1))	{
 		if (b=="pred"+q)	{
 		psave= "predS" + q;
 		document.getElementById(psave).value=z;
 		}
 		q++;
 		}
 		
	} 
 	}
alert("message " + projectchg);
 }
   function make_change2()	{
 	document.getElementById("schedule").style.display="block";
	document.getElementById("act_div").style.display = "block";
	document.getElementById("act_table_div").style.display = "block";
	document.getElementById("buttons").style.display = "block";
	document.getElementById("change_form2").style.display = "none";
	x=document.getElementById("item_to_change2").value;
	y=document.getElementById("change_item2").value;	
 	dur=y;
  //  alert("testing ");
	name= document.getElementById("activity_to_change2").value;
	dur_id= "dur" + name;
	dursave_id= "durS" + name;
	document.getElementById(dur_id).value=dur;
	document.getElementById(dursave_id).value=dur;
	document.getElementById(x).innerHTML=dur;
 	bar = "bar" + name;
 	durbar= (6.67*dur)+"%";
 	document.getElementById(bar).style.width= durbar;
 	document.getElementById("change_item2").value="";
 	
testbutton();
 }
 
 
function test()	{
var myVar=setInterval(changecolor,1000);
}
function changecolor()	{
var d = new Date();
  var t = d.getSeconds();
  
  color="hsl(" + t + "180, 50%, 50%)";
document.getElementById("sched_table").style.backgroundColor=color;
document.getElementById("colorcount").value=t;
}
</script>

<style type="text/css">
	#fieldopen	img {
	width:15%;
	float:left;
}
	#heading {
	margin:auto;
	width:100%;
	text-align:center;
	background-color:gray;
	color:aqua;
	
}
	#heading img{
	width:15%;
	float:left;
	
}
	.basetopdivs	{
	width:100%;
	float:none;
	
	}
	.basetopleft	{
	width:23%;
	float:left;
	font-size:1vw;
	margin:0 0 0 0;
	margin-left:2px;
	text-align:left;
	}
	
	.basetopright	{
	width:75%;
	float:left;
	font-size:1vw;
	margin:0 0 0 0;
	}
	
	.act_form  {
}
	#act_entry	{
	border-collapse:collapse;
	border: medium red solid;
	background-color:linen;
	width:90%; 
	margin-left:auto;
	margin-right:auto;
	margin-bottom:10px;
	margin-top:10px;
	font-size:5vw;
	color:fuchsia;
}
	#act_entry p	{
	font-size:2vw;
}
	#act_entry td	{
	margin-left:auto;
	margin-right:auto;
	text-align:center;
	vertical-align:middle;
	padding:10px;
}
	.fileopenbuttons	{
	background-color:lime;
	color:blue;
	
	}
	.entrybuttons	{
	width:80%;
	background-color:gray;
	color:aqua;
	border-radius:20%;
	margin-left:auto;
	margin-right:auto;
	font-size:5.25vw;
	font-weight:bold;
	text-align:center;
	letter-spacing:1px; 
	height: 15vw;
}
	.entrybuttons2	{
	width:70%;
	background-color:gray;
	color:yellow;
	border-radius:20%;
	margin-left:auto;
	margin-right:auto;
	font-size:1.75vw;
	font-weight:bold;
	text-align:center;
	letter-spacing:.5px; 
	height:7vw;
}
	#newduration {
	font-size:8vw;
	width:25%;
	text-align:center;
}
	#mondaystart {
	font-size:5vw;
	width:45%;
	text-align:center;
}
	#crew {
	font-size:5vw;
	width:45%;
	text-align:center;
}
	#reporter	{
	font-size:4vw;
	background-color:olive;
}
	.entrydivs	{
	width:75%;
	left:auto;
	right:auto;
	background-color:silver;
	text-align:center;
	display:none;
}
	.entrydivs input	{
	width:85%;
	height:15vw;
}
	.entrydivs	p {
	background-color:navy;
	color:white;
}
	#opendiv	{
	width:75%;
	left:auto;
	right:auto;
	background-color:silver;
	text-align:center;
	display:none;
}
	#opendiv	p {
	background-color:navy;
	color:white;
}
	#opendiv	select {
	background-color:orange;
	color:blue;
}
#activity_table {
	border-collapse:collapse;
	border: medium blue solid;
	background-color:linen;
	width:95%; 
	margin-left:auto;
	margin-right:auto;
	margin-bottom:10px;
	margin-top:auto;
	border-radius: 1%;
	}
	#activity_table th {
	border-collapse:collapse;
	border: thin black solid;
	border-radius: 1%;
	 
	font-size:3vw;	
	
	}
	#activity_table tr:nth-child(even)	 {
	background-color: #f2f2f2;
	
	}
	#activity_table td	{
	border-collapse:collapse;
	border: thin red dotted;
	border-radius: 1%;
	font-size:2vw;	
	font-weight:bold;	
	letter-spacing:1px; 
	}
	#activity_table input {	font-size:2vw; text-align:center; background-color:aqua;	}
	#activity_table button {font-size:2.2vw; background-color:yellow; color:blue; font-weight:bold;	}
	.pred_form {
	background-color:#ffd966;
	width:50%;
	margin-left:auto;
	margin-right:auto;
	display:none;
	padding:10px;
	}
	
	.pred_table {border:medium; background-color:beige; text-align:center; width:40%; margin-left:auto; margin-right:auto}
	.pred_button {	background-color:green;	width:80%;	margin-left:auto;	margin-right:auto; color:yellow;	}
	#buttons{
	margin:auto;
	width:100%;
	text-align:center;
}
	#buttons button	{
	background-color:gray;
	color:aqua;
	font-weight:bold;
}
	#change_form	{
	background-color:lime;
	text-align:center;
	display:none;
	position:fixed;
	top:30px;
	left:15px;
	float:left;
	white-space:normal;
}
	#change_form table	{
	margin:auto;
	border: thin red solid;
}
	#change_form textarea	{
	width:350px;
	height:100px;
	font-size:4vw;	
	white-space:normal;
}
	#change_form button {
	background-color:blue;
	color:yellow;
}
	#change_form2	{
	background-color:blue;
	text-align:center;
	display:none;
	position:fixed;
	top:100px;
	left:25px;
}
	#change_form2 input	{
	width:75px;
	height:70px;
	font-size:3vw;		
}
	#change_form2 table	{
	margin:auto;
	border: thin red solid;
}
	#change_form2 table	{
	margin:auto;
	border: thin red solid;
}
	#change_form2 button {
	background-color:yellow;
	color:red;
}
	#schedule	{
	display:block;	
	background-color:#ffcccc;
	width:400px;
	margin:auto;
	float:left;
}
	#schedule p	{
	color:blue;
	}
	
	#sched_table  {
	display:block;	
	background-color:aqua;
	width:95%;
	font-size:2.75vw;	
	border-collapse:collapse;
	border: thin black solid;
	margin:auto;
}
	#sched_table td	{
	border:thin black dotted;
	font-size:1.80vw;	
}
div.sticky {
  position: -webkit-sticky;
  position: sticky;
  top: 0;
  padding: 5px;
  background-color: #cae8ca;
  border: 2px solid #4CAF50;
}
	
	#sched_info_table caption {	color:hsl(0, 100%, 50%); }
	.weekbar {background-color:silver;}
	.daybar {background-color:olive; color:white;}
		
	.daybar {background-color:olive; color:white;}
	.daybar2 {background-color:pink; color:white; width:55px;}
}
	#filedata	{
	display:none;
}
	
	.progbar {background-color:yellow;}
	
	#inputform	{	display:table;}
	#opendiv	{	display:none;}
	#footer{
	margin:auto;
}
</style>
</head>

<body onload="checkopen()">


<div id="heading" title="visible">

<p>THREE WEEK LOOK AHEAD</p>
</div>

<div class="act_form" id="act_div" title="visible">
<table id="act_entry">
<tr><td><button id="newstartbutton" name="newstart" class="entrybuttons" onclick="newactentry(this.name)">START NEW SCHEDULE</button></td>
</tr>
<tr><td><p id="sched_info"></p></td></tr>
<tr><td><button id="newactbutton" name="newact" class="entrybuttons" onclick="newactentry(this.name)">NEW ACTIVITY</button></td>
</tr>
</table>
<input type ="hidden" id="savedactid" value="10"/>
<input type ="hidden" id="savedpred" value="Pick Predecessor"/>
<input type="hidden" id="savedpreddur" />
<input type="hidden" id="openeditem" />
</div>
<div class="entrydivs" id="newactdiv">
<p>Enter brief description of the task activity here.  Limit the scope to an area that can be completed in 5 days or less.  Give describing limits.  Use no more than 100 characters including spaces and abbreviate if necessary.</p>
<br />
<input id='newactivity' /><br /><br />
<br /><button class="newentrybuttons" value="close" onclick="selectactentry()">NEXT</button><br /><br /><br />
</div>
<div class="entrydivs" id="newdurdiv">
<p>Enter the duration of the new activity.  Should be no more than 5 days.  Just enter numbers with no commas. You can use decimals for partial days.</p>
<br />
<input type="number" id='newduration'/>
<br /><br /><br />
<button id="add_activity" onclick="selectdurentry()">NEXT</button><br /><br /><br />

</div>
<div class="entrydivs" id="newprojectdiv">
<p>Enter the project for each activity.</p>
<br />
<select id="project" name='project' >
		<option value="ALL JOBS">--- ALL PROJECTS ---</option>
		<option value="Test">--- Test Job ---</option>

	</select>
<br /><button  onclick="newact()">ADD</button><br />
</div>
<div class="entrydivs" id="newstartdiv">
<p>Enter the Monday date of the first day of the Three Week Schedule.  Should be in the format of YYYY-MM-DD (Year-Month-Day)</p>
<br />
<input type="date" id='mondaystart' />
<br /><br /><br />
<button class="newentrybuttons" value="close" onclick="selectstartentry()">NEXT</button><br /><br /><br />
</div>
<div class="entrydivs" id="newreporterdiv">
<p>Enter Your Name</p>
<br />
<select id="reporter" name="reporter">
		<option value="">--SELECT YOUR NAME--</option>
		<option value="Mike Beck">Mike Beck</option>
		<option value="Shane Graves">Shane Graves</option>		
		<option value="Tony Hamilton">Tony Hamilton</option>
		<option value="Greg Hunt">Greg Hunt</option>
		<option value="Ronnie Skinner">Ronnie Skinner</option>
	</select><br /><br /><br />
	<button class="newentrybuttons" value="close" onclick="selectreporterentry()">NEXT</button><br /><br /><br />
</div>
<div class="entrydivs" id="newcrewdiv">
<p>Enter the Name of the crew supervisor.</p>
<br />
<input id='crew'  />
<br /><button id="add_activity" onclick="schedinfo()">START A NEW SCHEDULE</button>
<button id="next_week" onclick="schedinfo_ud()">USE LAST WEEK SCHEDULE</button><br />
</div>


<div id="act_table_div"  title="visible">
<table id="activity_table" class="act_form">
<tr>
<th >Act ID</th><th >PREDECESSOR</th>
<th >ACTIVITY</th><th >DUR</th>
<th ></th>	</tr>
<tr>
<td ></td><td ></td><td ></td><td ></td><td style="border-style:none;"></td></tr>
</table>
</div>
<div id="fieldopen" title="field">	
<button class="fileopenbuttons" onclick="openschedlist()" >OPEN SCHEDULE</button> <h1 id="fieldtitle"></h1>
			</div>
<br />
<div id="buttons" title="visible">
<button id="quick_sched" onclick="quicksched()" >QUICK FS</button>

<button id="test_button" onclick="testbutton()" >SCHEDULE</button>
<button onclick="screeninfo()" >SCREEN INFO</button>
<button onclick="save()" >SAVE SCHEDULE</button>
<button onclick="openschedlist()" >OPEN SCHEDULE</button>
<button onclick="test()" >TEST</button> <input type="hidden" id="colorcount" value="1" />
<br /><br />
</div>
<div id="schedule" class="sched_form" title="visible"> <!-- "visible" or "field"  switch  -->  
<table  id="sched_table" class="sched_form" border="1">
<caption>THREE WEEK LOOK AHEAD SCHEDULE</caption>
<tr><th class="weekbar" colspan="5" >WEEK 1</th>
<th class="weekbar" colspan="5" >WEEK 2</th>
<th class="weekbar" colspan="5">WEEK 3</th>
</tr>
<tr class="sticky"><th class="daybar" >Mon</th>
<th class="daybar">Tue</th>
<th class="daybar">Wed</th>
<th class="daybar" >Thu</th>
<th class="daybar">Fri</th>
<th class="daybar" >Mon</th>
<th class="daybar">Tue</th>
<th class="daybar">Wed</th>
<th class="daybar">Thu</th>
<th class="daybar">Fri</th>
<th class="daybar" >Mon</th>
<th class="daybar">Tue</th>
<th class="daybar">Wed</th>
<th class="daybar">Thu</th>
<th class="daybar">Fri</th>
</tr>
<tr><td colspan="15"><p></p></td></tr>
</table><br />
</div>

<div class="pred_form" id="pred_div" >
<input type="hidden" id="act_pred" />
<button  onclick="predpickedfunction(this.name)" id="ongoingpred" name="cat" title="no" style="background-color:fuchsia">Ongoing Task</button>

<h1 id="predactivity"></h1>
<ul class="pred_table" id="predlist" ></ul>

</div>
<br /><br /><br /><br /><br /><br />
<div id="change_form">
<input type="hidden" id="item_to_change" />
<input type="hidden" id="activity_to_change" />

<p id="change_old">words here</p>
<table id="change_table">
<tr><td><textarea  id="change_item"></textarea></td></tr>
<tr><td><select id="project_chg" name='project_chg' >
		<option value="ALL JOBS">--- ALL PROJECTS ---</option>
		<option value="Test">--- Test Job ---</option>

	</select>
</td></tr>

</table><br />
<button id="change_button" onclick="make_change()">MAKE THE CHANGE</button><br /><br />
</div>
<br />
<div id="change_form2">
<input type="hidden" id="item_to_change2" />
<input type="hidden" id="activity_to_change2" />

<p id="change_old2">words here</p>
<table id="change_table2">
<tr><td><input id="change_item2"/></td></tr>

</table><br />
<button id="change_button2" onclick="make_change2()">MAKE THE CHANGE</button><br /><br />
</div>
<div id="opendiv" >
<p>SELECT THE SCHEDULE FILE BELOW</p>
<br />
<!--
<form id="getsched" method="post" action="" autocomplete="off">
<select   id="openschedlist" name='openschedlist' onchange="this.form.submit()">
		<option value="">--- SELECT SCHEDULE ---</option>
		<? $list=mysql_query("select * from schedule3wk GROUP BY file ORDER BY file desc"); 
		//$list=mysql_query("select * from schedule3wk "); 
		while($row_list=mysql_fetch_assoc($list))
		{ ?>
		<option value="<? echo $row_list['file']; ?>">
		<? echo $row_list['file'] ;?> </option>
		<?  }
		?> 
	</select>
<input type="hidden" id="sched_update1" name="sched_update1" />
<input type="hidden"  id="mondaystart_update1" name="mondaystart_update1" />
<input type="hidden"  id="reporter_update1" name="reporter_update1" />
<input type="hidden"  id="crew_update1" name="crew_update1" />
</form>	
-->
</div>
<br />
<div id="inputform" > <!-- title="visible" -->
<form id="schedform" method="post" action="" autocomplete="off">
<input type="hidden" id="counter" name="counter" value=0 />
<input type="hidden" id="check" name="check" />

<table id="saveform">
<tr><th>Monday</th><th>Reporter</th><th>Crew</th><th>Act Id</th><th>Pred</th><th>Activity</th><th>Duration</th><th>Preddur</th><th>savename</th><th>project</th>
</tr>

</table>
<!--
<input type="hidden" id="fileopened" name="fileopened" value="<? echo  $_POST['openschedlist'] ?>"/>
<input id="sched_update2" name="sched_update2"  value="<? echo  $_POST['sched_update1'] ?>"/>
<input id="mondaystart_update2" name="mondaystart_update2" value="<? echo  $_POST['mondaystart_update1'] ?>"/>
<input id="reporter_update2" name="reporter_update2" value="<? echo  $_POST['reporter_update1'] ?>"/>
<input id="crew_update2" name="crew_update2" value="<? echo  $_POST['crew_update1'] ?>" />
-->
</form>
</div>
<div id="footer" title="visible">

</div>
<!--
<?
echo "<br /><br /><br />";
echo "<div id='opendiv2'>";
$fileopen = $_POST['openschedlist'];
if($fileopen!='')	{
$result = mysql_query("SELECT * FROM schedule3wk where file = '$fileopen' AND complete!='yes' ORDER BY act_id asc");
$x=1;
$countrows= mysql_query("SELECT count(*) as count FROM schedule3wk where file = '$fileopen' AND complete!='yes' ORDER BY pred_dur, act_id asc");
$countfetched= mysql_fetch_array($countrows);
$cr= $countfetched['count'];
echo "file: " . $fileopen  ;
echo "<table style='display:none'>";
echo "<tr><th>Date</th><th>Reporter</th><th>Crew</th><th>Act ID</th><th>Pred</th><th>Activity</th><th>Dur</th><th>Pred Durs</th></tr>";
while($row = mysql_fetch_array($result))
  {
  echo "<tr>";
  echo "<td id='startopen" . $x . "'>" . $row['date'] . "</td>";
  echo "<td id='reporteropen" . $x . "'>" . $row['reporter'] . "</td>";
  echo "<td id='crewopen" . $x . "'>" . $row['crew'] . "</td>";
  echo "<td id='actidopen" . $x . "'>" . $row['act_id'] . "</td>";
  echo "<td id='predopen" . $x . "'>" . $row['pred'] . "</td>";
  echo "<td id='actopen" . $x . "'>" . $row['act'] . "</td>";
  echo "<td id='duropen" . $x . "'>" . $row['dur'] . "</td>";
  echo "<td id='predduropen" . $x . "'>" . $row['pred_dur'] . "</td>";
  echo "<td id='projectopen" . $x . "'>" . $row['project'] . "</td>";
  echo "<tr>";	
  $x++;
	}
echo "</table>";
}
echo "<input type='hidden' id='opencount' value='$cr' />";
echo "<br /><button class='fileopenbuttons' onclick='opensched()'>GET FILE</button><br />";
echo "</div>";
?>
-->
<script>
window.addEventListener("resize", myFunction);
function myFunction() {
  var y=screen.width;
  var z=screen.height;
  var txt = " screen width is " + y;
	if (y<425) { 
	document.getElementById("heading").style.cssFloat="none";
	document.getElementById("sched_table").style.backgroundColor="aqua";
	document.getElementById("newstartbutton").className="entrybuttons";
  	document.getElementById("newactbutton").className="entrybuttons";
  	document.getElementById("act_div").className="basetopdivs";
	document.getElementById("act_table_div").className="basetopdivs";
	document.getElementById("change_item").style.whiteSpace="normal";
	document.getElementById("change_item").style.backgroundColor="yellow";
	
	c=document.getElementById("activity_table");
		c.style.fontSize="1.5vw";
		c2=c.rows[0].cells.length; 
		zz=0;
		while (zz<c2)	{
		document.getElementById("act_table_div").getElementsByTagName('th')[zz].style.fontSize="3vw";
		document.getElementById("act_table_div").getElementsByTagName('td')[zz].style.fontSize="2vw";
		zz++;
		}
		
		document.getElementById("schedule").style.width="400px";
		d=document.getElementById("sched_table");
		d.style.width="95%";
		d.style.backgroundColor="aqua";
		d.style.fontSize="2.75vw";
		d2=d.rows[1].cells.length; 
		d3=(d2*1+3);
		//alert("row has " + d2 +  " columns");
		zz=0;
		while (zz<d3)	{
		document.getElementById("sched_table").getElementsByTagName('th')[zz].style.width="100%";
		document.getElementById("sched_table").getElementsByTagName('th')[zz].style.backgroundColor="olive";
		//document.getElementById("sched_table").getElementsByTagName('td')[zz].style.fontSize="1.25vw";
		zz++;
		}
	}
  	if (y>425) { 
  		document.getElementById("heading").style.cssFloat="left";
  	  	//document.getElementsbyclassName("entrybuttons").style.color="red";
  	  	document.getElementById("newstartbutton").className="entrybuttons2";
  	  	document.getElementById("newactbutton").className="entrybuttons2";
  	  	document.getElementById("act_div").className="basetopleft";
		document.getElementById("act_table_div").className="basetopright";
			//#activity_table button {font-size:2vw; background-color:aqua;	}
		c=document.getElementById("activity_table");
		c.style.fontSize="1.5vw";
		c2=c.rows[0].cells.length; 
		zz=0;
		while (zz<c2)	{
		document.getElementById("act_table_div").getElementsByTagName('th')[zz].style.fontSize="1.25vw";
		document.getElementById("act_table_div").getElementsByTagName('td')[zz].style.fontSize="1.25vw";
		zz++;
		}
		
		document.getElementById("schedule").style.width="760px";
		d=document.getElementById("sched_table");
		d.style.width="760px";
		d.style.backgroundColor="aqua";
		d.style.fontSize="1.5vw";
		d2=d.rows[1].cells.length; 
		d3=(d2*1+3);
		//alert("row has " + d2 +  " columns");
		zz=0;
		while (zz<d3)	{
		document.getElementById("sched_table").getElementsByTagName('th')[zz].style.width="48px";
		document.getElementById("sched_table").getElementsByTagName('th')[zz].style.backgroundColor="gray";
		//document.getElementById("sched_table").getElementsByTagName('td')[zz].style.fontSize="1.25vw";
		zz++;
		}
		
/*
		var elmnt1 = document.getElementById("act_table_div");
		var elmnt2 = document.getElementById("act_div");
		var txt1 = "Height including padding: " + elmnt1.clientHeight + "px<br>";
  		txt1 += "Width including padding: " + elmnt1.clientWidth + "px" + " screen width is " + y;
  		var txt2 = "Height including padding: " + elmnt2.clientHeight + "px<br>";
  		txt2 += "Width including padding: " + elmnt2.clientWidth + "px" + " screen width is " + y;
  		alert(txt1 + "<br>" + txt2);
 */ 	  	
	
  	  	}
  
}
</script>


<input type="hidden" id="update_on" />
</body>

</html>
